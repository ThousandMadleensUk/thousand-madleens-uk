# Use DecapBridge classic auth (required)
backend:
  name: git-gateway
  repo: ThousandMadleensUk/thousand-madleens-uk
  branch: main
  identity_url: https://auth.decapbridge.com/sites/c434369b-2199-4a7a-9dc8-e0c36cefe403
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} “{{slug}}” - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete “{{path}}” - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# Better Decap + Bridge logo (optional)
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in Decap CMS (optional)
site_url: https://1000madleens.co.uk

# For local development with GitHub backend
local_backend: true

media_folder: "/public/images/events"
public_folder: "/images/events"

# Enable preview
show_preview_links: true

collections:
  - name: "content"
    label: "Events"
    files:
      - label: "Events"
        name: "content"
        file: "content.json"
        fields:
          - label: "Events Section"
            name: "events"
            widget: "object"
            fields:
              - { label: "Section Title", name: "title", widget: "string" }
              - { label: "Section Description", name: "description", widget: "text" }
              - label: "Events"
                name: "events"
                widget: "list"
                fields:
                  - { label: "URL Slug", name: "slug", widget: "string", hint: "URL-friendly identifier (e.g., national-march-jan-2026). Changing this changes the event URL." }
                  - { label: "Title", name: "title", widget: "string" }
                  - { label: "Location", name: "location", widget: "string" }
                  - { label: "Date & Time", name: "dateTime", widget: "datetime", format: "YYYY-MM-DDTHH:mm" }
                  - { label: "End Time", name: "endTime", widget: "string", hint: "24-hour format (e.g., 18:00)" }
                  - { label: "Short Description", name: "shortDescription", widget: "text", hint: "Brief description for event cards (2-3 sentences)" }
                  - { label: "Full Description", name: "fullDescription", widget: "text", hint: "Detailed description for event page. Use line breaks for paragraphs." }
                  - { label: "Share Message", name: "shareMessage", widget: "text", required: false, hint: "Custom social media message. Keep under 200 characters." }
                  - { label: "Event Image", name: "image", widget: "image" }
                  - { label: "Action Button URL", name: "actionUrl", widget: "string", required: false, hint: "Link to tickets, registration, or more info" }
                  - { label: "Action Button Text", name: "actionText", widget: "string", required: false, default: "Learn More", hint: "Button text (e.g., 'Get Tickets', 'Register Now')" }
                  - label: "Event Type"
                    name: "eventType"
                    widget: "select"
                    hint: "Determines badge color"
                    options:
                      - { label: "Protest (Red)", value: "Protest" }
                      - { label: "Fundraiser (Green)", value: "Fundraiser" }
                      - { label: "Meeting (Blue)", value: "Meeting" }
                      - { label: "Workshop (Purple)", value: "Workshop" }
                      - { label: "Community Event (Orange)", value: "Community" }
